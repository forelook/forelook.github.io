"use strict";(self.webpackChunkforelook=self.webpackChunkforelook||[]).push([[555],{4555:function(e,i,n){n.r(i);var l=n(2982),o=n(885),t=n(7313),r=n(2937),d=n(6157),u=n(5762),a=n(3477),s=n(2463),c=n(4287),f=n(4558),x=n(3656),h=n(545),p=n(2401),m=n(1489),v=n(4130),j=n(6417),b=function(e){var i,n,l=e.inputRef,s=h.On.market,c=h.On.balance,f=(0,t.useState)(0),x=(0,o.Z)(f,2),v=x[0],b=x[1],y=(0,t.useState)(0),F=(0,o.Z)(y,2),Z=F[0],g=F[1],R=function(e){if(e<=0)return b(0),void g(0);if(0===s.liquidity){var i,n,o=Math.min(e,null!==(i=null===c||void 0===c?void 0:c.amountTrue)&&void 0!==i?i:0,null!==(n=null===c||void 0===c?void 0:c.amountFalse)&&void 0!==n?n:0);return b(o),void g(o)}var t=(0,m.df)((0,m.df)(e,-p.eh.decimal)*s.liquidityFalseUnformat/s.liquidityTrueUnformat,p.eh.decimal);t<(null===c||void 0===c?void 0:c.amountFalse)?(b(e),g(t)):(b(l.current.value=(0,m.df)((0,m.df)(null===c||void 0===c?void 0:c.amountFalse,-p.eh.decimal)*s.liquidityTrueUnformat/s.liquidityFalseUnformat,p.eh.decimal,p.eh.decimal)),g(null===c||void 0===c?void 0:c.amountFalse))};return(0,j.jsxs)(r.ZP,{item:!0,flexDirection:"column",children:[(0,j.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[(0,j.jsx)("span",{style:{color:"#6F767E"},children:"Your Balance"}),(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,j.jsx)("span",{style:{color:"#6F767E",textAlign:"right"},children:"Yes: ".concat(null!==(i=null===c||void 0===c?void 0:c.amountTrue)&&void 0!==i?i:0)}),(0,j.jsx)("span",{style:{color:"#6F767E",textAlign:"right"},children:"No: ".concat(null!==(n=null===c||void 0===c?void 0:c.amountFalse)&&void 0!==n?n:0)})]})]}),(0,j.jsx)(u.Z,{inputRef:l,placeholder:"AMax",disableUnderline:!0,fullWidth:!0,type:"number",sx:{border:"2px solid #6F767E",borderRadius:"8px",mb:1,color:"#fff",pl:1,height:"50px"},endAdornment:(0,j.jsx)(a.Z,{sx:{color:"#305FF5"},children:"MAX",onClick:function(){var e,i,n;return R(l.current.value=0===s.liquidity?Math.min(null!==(e=null===c||void 0===c?void 0:c.amountTrue)&&void 0!==e?e:0,null!==(i=null===c||void 0===c?void 0:c.amountFalse)&&void 0!==i?i:0):null!==(n=null===c||void 0===c?void 0:c.amountTrue)&&void 0!==n?n:0)}}),onChange:function(e){return R(e.target.value)},defaultValue:0}),(0,j.jsx)(d.Z,{sx:{display:"flex",flexDirection:"column",mb:.5},children:(0,j.jsx)("span",{style:{color:"#6F767E",fontSize:"12px"},children:"You will put about ".concat(v.toLocaleString()," Yes and ").concat(Z.toLocaleString()," No to the liquidity.")})})]})},y=function(e){var i=e.inputRef,n=h.On.balance,l=(0,o.Z)(i,4),t=l[0],d=l[1],c=l[2],f=l[3];return(0,j.jsxs)(r.ZP,{item:!0,children:[(0,j.jsxs)(s.Z,{direction:"row",spacing:2,children:[(0,j.jsx)("span",{style:{color:"#6F767E",width:"50%"},children:"Yes max"}),(0,j.jsx)("span",{style:{color:"#6F767E",width:"50%"},children:"Yes min"})]}),(0,j.jsxs)(s.Z,{direction:"row",spacing:2,children:[(0,j.jsx)(u.Z,{inputRef:t,placeholder:"AMax",disableUnderline:!0,sx:{border:"2px solid #6F767E",borderRadius:"8px",mb:2,color:"#fff",pl:1,height:"50px",width:"50%"},endAdornment:(0,j.jsx)(a.Z,{sx:{color:"#305FF5"},children:"MAX",onClick:function(){var e;return t.current.value=null!==(e=n.amountTrue)&&void 0!==e?e:0}}),defaultValue:0}),(0,j.jsx)(u.Z,{inputRef:c,placeholder:"AMin",disableUnderline:!0,sx:{border:"2px solid #6F767E",borderRadius:"8px",mb:2,color:"#fff",pl:1,height:"50px",width:"50%"},defaultValue:0})]}),(0,j.jsxs)(s.Z,{direction:"row",spacing:2,children:[(0,j.jsx)("span",{style:{color:"#6F767E",width:"50%"},children:"No max"}),(0,j.jsx)("span",{style:{color:"#6F767E",width:"50%"},children:"No min"})]}),(0,j.jsxs)(s.Z,{direction:"row",spacing:2,children:[(0,j.jsx)(u.Z,{inputRef:d,placeholder:"BMax",disableUnderline:!0,sx:{border:"2px solid #6F767E",borderRadius:"8px",mb:2,color:"#fff",pl:1,height:"50px",width:"50%"},endAdornment:(0,j.jsx)(a.Z,{sx:{color:"#305FF5"},children:"MAX",onClick:function(){var e;return d.current.value=null!==(e=n.amountFalse)&&void 0!==e?e:0}}),defaultValue:0}),(0,j.jsx)(u.Z,{inputRef:f,placeholder:"BMin",disableUnderline:!0,sx:{border:"2px solid #6F767E",borderRadius:"8px",mb:2,color:"#fff",pl:1,height:"50px",width:"50%"},defaultValue:0})]})]})},F=function(e){var i=e.inputRef,n=(0,t.useState)(!1),l=(0,o.Z)(n,2),r=l[0],u=l[1];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(c.Z,{mb:2,children:(0,j.jsx)(f.Z,{control:(0,j.jsx)(x.Z,{checked:r,onChange:function(e){return u(e.target.checked)},color:"primary"}),label:(0,j.jsx)("span",{style:{color:"#fff"},children:"Mode: ".concat(r?"Advanced":"Normal")}),labelPlacement:"start"})}),(0,j.jsx)(d.Z,{my:.5}),r?(0,j.jsx)(y,{inputRef:i}):(0,j.jsx)(b,{inputRef:i[0]})]})};i.default=(0,h.Pi)((function(){var e=h.C8.status,i=h.On.market,n=[(0,t.useRef)(null),(0,t.useRef)(null),(0,t.useRef)(null),(0,t.useRef)(null)];return(0,j.jsxs)(v.Z,{open:e.addliquidity,setOpen:function(){return h.C8.close("addliquidity")},title:"Add Liquidity",children:[(0,j.jsx)(F,{inputRef:n}),(0,j.jsx)(r.ZP,{item:!0,children:(0,j.jsx)(a.Z,{fullWidth:!0,sx:{backgroundColor:"#305FF5",color:"#fff",borderRadius:"8px",mt:2},children:"Add Liquidity",onClick:function(){return h.t3.addLiquidity.apply(h.t3,[i.liquidityTokenId].concat((0,l.Z)(n.map((function(e){var i;return null===e||void 0===e||null===(i=e.current)||void 0===i?void 0:i.value}))))).then((function(e){return h.C8.open("wait",e)})).catch((function(e){return h.t3.catch(e,"addLiquidity")})).finally((function(){return h.C8.close("addliquidity")}))}})})]})}))}}]);