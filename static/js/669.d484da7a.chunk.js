"use strict";(self.webpackChunkforelook=self.webpackChunkforelook||[]).push([[669],{1669:function(e,t,r){r.r(t),r.d(t,{addLiquidity:function(){return _},buy:function(){return F},buyOnce:function(){return G},deposit:function(){return $},disconnect:function(){return J},getAccount:function(){return U},getBalance:function(){return W},getNetwork:function(){return M},initDapi:function(){return Q},invoke:function(){return Y},neoline:function(){return D},neolineN3:function(){return X},redeem:function(){return K},redeemOnce:function(){return P},removeLiquidity:function(){return B},winnerRedeem:function(){return z}});var n=r(4165),a=r(4942),u=r(1413),i=r(5861),o=/\s/;var s=function(e){for(var t=e.length;t--&&o.test(e.charAt(t)););return t},c=/^\s+/;var p=function(e){return e?e.slice(0,s(e)+1).replace(c,""):e};var v=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},l="object"==typeof global&&global&&global.Object===Object&&global,d="object"==typeof self&&self&&self.Object===Object&&self,f=(l||d||Function("return this")()).Symbol,y=Object.prototype,g=y.hasOwnProperty,w=y.toString,h=f?f.toStringTag:void 0;var A=function(e){var t=g.call(e,h),r=e[h];try{e[h]=void 0;var n=!0}catch(u){}var a=w.call(e);return n&&(t?e[h]=r:delete e[h]),a},I=Object.prototype.toString;var Z=function(e){return I.call(e)},N=f?f.toStringTag:void 0;var b=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":N&&N in Object(e)?A(e):Z(e)};var k=function(e){return null!=e&&"object"==typeof e};var m=function(e){return"symbol"==typeof e||k(e)&&"[object Symbol]"==b(e)},E=/^[-+]0x[0-9a-f]+$/i,O=/^0b[01]+$/i,S=/^0o[0-7]+$/i,L=parseInt;var T=function(e){if("number"==typeof e)return e;if(m(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=p(e);var r=O.test(e);return r||S.test(e)?L(e.slice(2),r?2:8):E.test(e)?NaN:+e},x=1/0;var C=function(e){return e?(e=T(e))===x||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};var H=function(e){var t=C(e),r=t%1;return t===t?r?t-r:t:0};var j=function(e,t){var r;if("function"!=typeof t)throw new TypeError("Expected a function");return e=H(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}};var D,X,R=function(e){return j(2,e)},q=r(545),V=r(2401),M=function(){var e;return null===(e=D)||void 0===e?void 0:e.getNetworks().then((function(e){var t=e.defaultNetwork;return q.t3.setNetwork(t)})).catch((function(e){return console.log(e)}))},W=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(t=X)||void 0===t?void 0:t.getBalance().then((function(e){var t,r,n=null!==(t=null===(r=e[q.t3.address])||void 0===r?void 0:r.reduce((function(e,t){var r=t.symbol,n=t.amount;return(0,u.Z)((0,u.Z)({},e),{},(0,a.Z)({},V.SC[r.toUpperCase()],n))}),{}))&&void 0!==t?t:{};return q.t3.set({balance:n}),n})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.NEOLine&&window.NEOLineN3||q.C8.open("warn","You could not connect to the wallet!"),e.abrupt("return",null===(t=D)||void 0===t?void 0:t.getAccount().then((function(e){var t=e.address;M(),sessionStorage.setItem("connect","true"),sessionStorage.setItem("preConnectWallet","Neoline"),q.t3.set({walletName:"Neoline"}),q.t3.setAddress(t),W()})).catch((function(e){return console.log(e)})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r,a){var u,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=q.t3.addressHash,e.abrupt("return",null===(u=X)||void 0===u?void 0:u.invoke({operation:t,args:r,fee:"0",scriptHash:null!==a&&void 0!==a?a:V.Xk,broadcastOverride:!1,signers:[{account:i,scopes:1}]}).then((function(e){return e.txid})));case 2:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),$=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=q.t3.address,e.abrupt("return",Y("transfer",[{type:"Address",value:a},{type:"Address",value:V.iZ},{type:"Integer",value:r},{type:"Array",value:[{type:"String",value:"deposit"},{type:"Integer",value:t}]}],V.eh.addressHash));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),_=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r,a,u,i){var o,s,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=q.t3.address,c=q.t3.addressHash,e.abrupt("return",null===(o=X)||void 0===o?void 0:o.invokeMultiple({invokeArgs:[{scriptHash:V.Xk,operation:"transfer",args:[{type:"Address",value:s},{type:"Address",value:V.iZ},{type:"Integer",value:r},{type:"Integer",value:t+1},{type:"Array",value:[{type:"String",value:"addLiquidity"},{type:"Integer",value:0},{type:"Integer",value:0},{type:"Integer",value:(new Date).getTime()+6e4}]}]},{scriptHash:V.Xk,operation:"transfer",args:[{type:"Address",value:s},{type:"Address",value:V.iZ},{type:"Integer",value:u},{type:"Integer",value:t+2},{type:"Array",value:[{type:"String",value:"addLiquidity"},{type:"Integer",value:i},{type:"Integer",value:a},{type:"Integer",value:(new Date).getTime()+6e4}]}]}],fee:"0",broadcastOverride:!1,signers:[{account:c,scopes:1}]}).then((function(e){return e.txid})).catch(console.log));case 2:case"end":return e.stop()}}),e)})));return function(t,r,n,a,u){return e.apply(this,arguments)}}(),B=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r,a,u){var i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=q.t3.address,e.abrupt("return",Y("transfer",[{type:"Address",value:i},{type:"Address",value:V.iZ},{type:"Integer",value:r},{type:"Integer",value:t},{type:"Array",value:[{type:"String",value:"removeLiquidity"},{type:"Integer",value:a},{type:"Integer",value:u},{type:"Integer",value:(new Date).getTime()+6e4}]}],V.Xk));case 2:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),F=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=q.t3.address,e.abrupt("return",Y("transfer",[{type:"Address",value:a},{type:"Address",value:V.iZ},{type:"Integer",value:r},{type:"Integer",value:t},{type:"Array",value:[{type:"String",value:"buy"},{type:"Integer",value:0},{type:"Integer",value:(new Date).getTime()+6e4}]}],V.Xk));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),G=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r){var a,u,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=q.t3.address,i=q.t3.addressHash,e.abrupt("return",null===(a=X)||void 0===a?void 0:a.invokeMultiple({invokeArgs:[{scriptHash:V.eh.addressHash,operation:"transfer",args:[{type:"Address",value:u},{type:"Address",value:V.iZ},{type:"Integer",value:r},{type:"Array",value:[{type:"String",value:"deposit"},{type:"Integer",value:t%3===0?t-2:t-1}]}]},{scriptHash:V.Xk,operation:"transfer",args:[{type:"Address",value:u},{type:"Address",value:V.iZ},{type:"Integer",value:r},{type:"Integer",value:t},{type:"Array",value:[{type:"String",value:"buy"},{type:"Integer",value:0},{type:"Integer",value:(new Date).getTime()+6e4}]}]}],fee:"0",broadcastOverride:!1,signers:[{account:i,scopes:1}]}).then((function(e){return e.txid})));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),K=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r){var a,u,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=q.t3.address,i=q.t3.addressHash,e.abrupt("return",null===(a=X)||void 0===a?void 0:a.invokeMultiple({invokeArgs:[{scriptHash:V.Xk,operation:"transfer",args:[{type:"Address",value:u},{type:"Address",value:V.iZ},{type:"Integer",value:r},{type:"Integer",value:t+1},{type:"Array",value:[{type:"String",value:"redeem"}]}]},{scriptHash:V.Xk,operation:"transfer",args:[{type:"Address",value:u},{type:"Address",value:V.iZ},{type:"Integer",value:r},{type:"Integer",value:t+2},{type:"Array",value:[{type:"String",value:"redeem"}]}]}],fee:"0",broadcastOverride:!1,signers:[{account:i,scopes:1}]}).then((function(e){return e.txid})));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),P=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r,a){var u,i,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=q.t3.address,o=q.t3.addressHash,e.abrupt("return",null===(u=X)||void 0===u?void 0:u.invokeMultiple({invokeArgs:[{scriptHash:V.Xk,operation:"transfer",args:[{type:"Address",value:i},{type:"Address",value:V.iZ},{type:"Integer",value:r},{type:"Integer",value:t},{type:"Array",value:[{type:"String",value:"buy"},{type:"Integer",value:0},{type:"Integer",value:(new Date).getTime()+6e4}]}]},{scriptHash:V.Xk,operation:"transfer",args:[{type:"Address",value:i},{type:"Address",value:V.iZ},{type:"Integer",value:a},{type:"Integer",value:t%3===0?t-1:t},{type:"Array",value:[{type:"String",value:"redeem"}]}]},{scriptHash:V.Xk,operation:"transfer",args:[{type:"Address",value:i},{type:"Address",value:V.iZ},{type:"Integer",value:a},{type:"Integer",value:t%3===0?t:t+1},{type:"Array",value:[{type:"String",value:"redeem"}]}]}],fee:"0",broadcastOverride:!1,signers:[{account:o,scopes:1}]}).then((function(e){return e.txid})));case 2:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),z=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=q.t3.address,e.abrupt("return",Y("transfer",[{type:"Address",value:a},{type:"Address",value:V.iZ},{type:"Integer",value:r},{type:"Integer",value:t},{type:"Array",value:[{type:"String",value:"winnerRedeem"}]}],V.Xk));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),J=function(){sessionStorage.removeItem("connect"),sessionStorage.removeItem("preConnectWallet"),q.t3.setAddress("Connect Wallet")},Q=function(){var e=R((0,i.Z)((0,n.Z)().mark((function e(){var t,r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D&&X||(D=new window.NEOLine.Init,X=new window.NEOLineN3.Init),null===(t=D)||void 0===t||t.addEventListener(D.EVENT.DISCONNECTED,J),null===(r=D)||void 0===r||r.addEventListener(D.EVENT.ACCOUNT_CHANGED,(function(e){var t=e.address;return q.t3.setAddress(t)})),null===(a=D)||void 0===a||a.addEventListener(D.EVENT.NETWORK_CHANGED,(function(e){var t=e.defaultNetwork;return q.t3.setNetwork(t)})),D.addEventListener(D.EVENT.TRANSACTION_CONFIRMED,(function(e){var t,r=e.txid;q.C8.close("wait"),q.C8.open("success",r),q.On.update(null===(t=q.On.market)||void 0===t?void 0:t.liquidityTokenId)})),"true"===sessionStorage.getItem("connect")&&"Neoline"===sessionStorage.getItem("preConnectWallet")&&U();case 6:case"end":return e.stop()}}),e)}))));window.NEOLine&&window.NEOLineN3?e():(window.addEventListener("NEOLine.NEO.EVENT.READY",(function(){return window.NEOLine&&window.NEOLineN3&&e()})),window.addEventListener("NEOLine.N3.EVENT.READY",(function(){return window.NEOLine&&window.NEOLineN3&&e()})))}}}]);